#!/bin/sh

set -e

scripts=$(dirname $0)

$scripts/graphql.sh --operation_name "COFOUNDER_MATCHING_DASHBOARD" --query "currentUser {\n    slug\n    seekingCofounder\n    email\n    __typename\n  }\n  completedActions\n  cofounderMatching {\n    profile {\n      intro\n      approvalStatus\n      canRequestRereview\n      eligibleCandidateCount\n      active\n      ...ProfilePreviewFields\n      ...CFMViewerProfileFragment\n      __typename\n    }\n    matches {\n      id\n      status\n      message\n      sender {\n        intro\n        conversationSlug\n        ...ProfilePreviewFields\n        __typename\n      }\n      receiver {\n        intro\n        slug\n        conversationSlug\n        ...ProfilePreviewFields\n        __typename\n      }\n      matchedAt\n      metAt\n      committedAt\n      archived\n      __typename\n    }\n    requests {\n      id\n      status\n      message\n      sentAt\n      sender {\n        ...ProfilePreviewFields\n        __typename\n      }\n      __typename\n    }\n    saves {\n      id\n      receiver {\n        intro\n        ...ProfilePreviewFields\n        __typename\n      }\n      __typename\n    }\n    invitesRemaining\n    eligibleUpcomingSpeedDatingEvents {\n      slug\n      title\n      startsAt\n      endsAt\n      attending\n      __typename\n    }\n    eligibleLiveSpeedDatingEvents {\n      slug\n      title\n      startsAt\n      endsAt\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ProfilePreviewFields on CofounderProfile {\n  email\n  slug\n  user {\n    avatarUrl\n    name\n    slug\n    __typename\n  }\n  __typename\n}\n\nfragment CFMViewerProfileFragment on CofounderProfile {\n  slug\n  email\n  intro\n  hasIdea\n  responsibilities\n  interests\n  ...CofounderPreferenceFragment\n  cfIsWomanImportance\n  cfIsYcAlumImportance\n  user {\n    slug\n    isTechnical\n    location\n    avatarUrl\n    name\n    __typename\n  }\n  __typename\n}\n\nfragment CofounderPreferenceFragment on CofounderProfile {\n  cfHasIdea\n  cfHasIdeaImportance\n  cfIsTechnical\n  cfIsTechnicalImportance\n  cfResponsibilities\n  cfResponsibilitiesImportance\n  cfLocation\n  cfLocationImportance\n  cfMinCommitment\n  cfMinCommitmentImportance\n  cfInterestsImportance\n  __typename"